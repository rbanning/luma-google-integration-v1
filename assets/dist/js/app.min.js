!function(a,b){"use strict";var c={version:"2016.06a",_siteroot:null,get siteroot(){if(!this._siteroot){var b=a.location.pathname.split("/").filter(Boolean);b.splice(3),this._siteroot="/"+b.join("/")+"/",this._siteroot="/"}return this._siteroot},guid:function(){var a={};return a.generate=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a}()};c.ng={names:{app:"GooApp",common:"GooAppCommon"},templatePath:function(a){return"templates/"+a+"?_v="+(new Date).getTime()}},a.hallpass=b.extend(!0,{},a.hallpass,c)}(window,jQuery),function(a,b){"use strict";var c=angular.module(b.ng.names.app,["ui.router"]);c.config(["$httpProvider",function(a){a.interceptors.push("apiTokenService")}]),c.config(function(a,c){c.otherwise("/home"),a.state("home",{url:"/home",controller:"HomeCtrl",controllerAs:"vm",templateUrl:b.ng.templatePath("home.html")}).state("asset",{url:"/asset/:id",controller:"AssetCtrl",controllerAs:"vm",templateUrl:b.ng.templatePath("asset.html")}).state("login",{url:"/login",controller:"LoginCtrl",controllerAs:"vm",templateUrl:b.ng.templatePath("login.html")}).state("logout",{url:"/logout",controller:"LogoutCtrl"})})}(window,window.hallpass),function(a,b){"use strict";b.controller("AssetCtrl",["$stateParams","authService","gooEventsService",function(a,b,c){var d=this;if(b.isLoggedIn||b.login(),d.user=b.currentUser,d.isLoggedIn=b.isLoggedIn,d.isLoaded=!1,d.isLoggedIn){var e=a.id;c.getRecord(e).then(function(a){d.gooEvent=a,console.log("gooEvent",a)})["catch"](function(a){d.errorMessage=a.status+": "+a.statusText,console.warn("gooEvents",a)})["finally"](function(){d.isLoaded=!0})}}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a,b){"use strict";b.controller("HomeCtrl",["authService","gooEventsService",function(a,b){var c=this;a.isLoggedIn||a.login(),c.user=a.currentUser,c.isLoggedIn=a.isLoggedIn,c.isLoaded=!1,c.isLoggedIn&&b.getFor(c.user.uid).then(function(a){c.gooEvents=a,console.log("gooEvents",a)})["catch"](function(a){c.errorMessage=a.status+": "+a.statusText,console.warn("gooEvents",a)})["finally"](function(){c.isLoaded=!0})}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a,b){"use strict";b.controller("LoginCtrl",["$state","authService",function(a,b){var c=this;c.errorMessage=null,c.login=function(){b.login()?a.go("home"):c.errorMessage="Invalid username and/or password!"}}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a,b){"use strict";b.controller("LogoutCtrl",["$state","authService",function(a,b){b.logout(),a.go("login")}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a,b){"use strict";b.factory("apiTokenService",[function(){var a=[{site:"localhost",scheme:"hallpass-key",token:btoa("0101-AVVX-9400")},{site:"myhallpass-dev.com",scheme:"hallpass-key",token:btoa("0101-AVVX-9400")},{site:"myhallpass.com",scheme:"hallpass-key",token:btoa("0101-AVVX-9400")},{site:"root",scheme:"local",token:btoa("fancy")}];return a.local=a[a.length-1],{request:function(b){var c=b.url.toLowerCase(),d=a.find(function(a){return c.indexOf(a.site)>=0});return d||(d=a.local),d?(b.headers.Authorization=d.scheme+" "+d.token,b):b}}}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a,b){"use strict";b.factory("authService",[function(){var a={currentUser:null,get isLoggedIn(){return!!this.currentUser}};return a.login=function(){return this.currentUser={name:"Test User",uid:"test"},this.currentUser},a.logout=function(){this.currentUser=null},a}])}(window.hallpass,angular.module(window.hallpass.ng.names.app)),function(a){"use strict";a.factory("gooEventsService",["$http",function(a){var b="https://www.myhallpass.com/learning/dev/goo-dummy-data/api/goo-events/",c={};return c.getFor=function(c){var d=b+"for/"+c;return a.get(d).then(function(a){return a.data})},c.getRecord=function(c){var d=b+c;return a.get(d).then(function(a){return a.data})},c}])}(angular.module(window.hallpass.ng.names.app));